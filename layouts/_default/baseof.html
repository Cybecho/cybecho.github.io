<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{{ if .IsHome }}{{ .Site.Title }}{{ else }}{{ .Title }} - {{ .Site.Title }}{{ end }}</title>
  
  <!-- SEO Meta Tags -->
  <meta name="description" content="{{ with .Description }}{{ . }}{{ else }}{{ .Site.Params.subtitle }}{{ end }}">
  <meta name="author" content="{{ .Site.Params.author.name }}">
  
  <!-- Open Graph Meta Tags -->
  <meta property="og:title" content="{{ if .IsHome }}{{ .Site.Title }}{{ else }}{{ .Title }}{{ end }}">
  <meta property="og:description" content="{{ with .Description }}{{ . }}{{ else }}{{ .Site.Params.subtitle }}{{ end }}">
  <meta property="og:type" content="{{ if .IsHome }}website{{ else }}article{{ end }}">
  <meta property="og:url" content="{{ .Permalink }}">
  
  <!-- Favicon -->
  <link rel="icon" type="image/gif" href="https://minecraft.wiki/images/Enchanted_Stone_Shovel.gif?33e82">
  
  <!-- RSS Feed -->
  {{ with .OutputFormats.Get "RSS" }}
    <link href="{{ .Permalink }}" rel="alternate" type="application/rss+xml" title="{{ $.Site.Title }}">
  {{ end }}
  
  <!-- JSON Feed for Search -->
  {{ with .OutputFormats.Get "JSON" }}
    <link href="{{ .Permalink }}" rel="alternate" type="application/json" title="{{ $.Site.Title }} Search Index">
  {{ end }}
  
  <!-- Google Fonts for Code -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@300;400;500;600&display=swap" rel="stylesheet">
  
  <!-- Include theme variables -->
  {{ partial "theme-vars.html" . }}
</head>
<body>
  {{ partial "header.html" . }}
  
  <main role="main">
    {{ block "main" . }}{{ end }}
  </main>
  
  <!-- Search Modal -->
  {{ partial "search.html" . }}
  
  <!-- URL Preview -->
  {{ partial "url-preview.html" . }}
  
  <!-- Code Enhancements -->
  {{ partial "code-enhancements.html" . }}
  
  <!-- URL Preview Configuration -->
  <script src="/js/url-preview-config.js"></script>
  
  <!-- Load search scripts -->
  <script src="https://cdn.jsdelivr.net/npm/fuse.js@6.6.2/dist/fuse.min.js"></script>
  <script>
    // Initialize search functionality
    document.addEventListener('DOMContentLoaded', function() {
      if (typeof initSearch === 'function') {
        initSearch();
      }
    });
    
    // Keyboard shortcuts
    document.addEventListener('keydown', function(e) {
      // Ctrl+K or Cmd+K to open search
      if ((e.ctrlKey || e.metaKey) && e.key === 'k') {
        e.preventDefault();
        const searchModal = document.getElementById('search-modal');
        if (searchModal) {
          searchModal.style.display = 'block';
          document.getElementById('search-input').focus();
        }
      }
      
      // Escape to close search
      if (e.key === 'Escape') {
        const searchModal = document.getElementById('search-modal');
        if (searchModal && searchModal.style.display === 'block') {
          searchModal.style.display = 'none';
        }
      }
    });
  </script>
</body>
</html>